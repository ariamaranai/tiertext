onbeforeunload=e=>e.preventDefault(),d.onclick=async e=>{let o=new OffscreenCanvas(2160,4096),b=60,w=792,a=2,i=7,n=d;(e=o.getContext("2d",{alpha:!1})).fillRect(0,0,2160,4096),e.fillStyle="#ddd",e.font="60032pxmenlo,consolas,monospace,yugothic,sans-serif",e.textBaseline="middle";while(i){let t=(n=n.nextSibling).textContent.slice(2).trim(--i);if(t&&=[...t]){let m=0,l=74,h=74,s=0;do{let c=t[s];if(c!="\n"){if(c!="\r"){let f=e.measureText(c),x=(f=f.width+f.actualBoundingBoxLeft)+l;m=/\s/.test(c)?(h=l=x<2152?x:(b+=48,74),0):(l=x<2152?(e.fillText(c,l,b),x):(h>74?(e.drawImage(o,h,w=(b+=48)-64,m,32,74,b-16,m,32),e.clearRect(h,w,m,32),e.fillText(c,l=m+(h=74),b),w=2160,l+f):(b+=48,74)),m+f)}}else(b+=48,m=0,h=l=74)}while(++s<t.length);e.save(w=Math.max(w,l)),e.fillStyle=["#136","#068","#183","#a90","#b70","#a10","#80b"][i],e.fillRect(2,a,64,m=b-a+48),e.fillStyle="#ddd",e.font="60040pxserif",e.textAlign="center",e.fillText(["ð…","ð„","ðƒ","ð‚","ð","ð€","ð’"][i],34,a+m/2),a=b+50,e.restore(b+=110)}}(b=new OffscreenCanvas(w+=48,a)).getContext("bitmaprenderer").transferFromImageBitmap(await createImageBitmap(o,0,0,w,a)),b=(o=document.createElement("a")).href=URL.createObjectURL(await b.convertToBlob()),o.click(o.download="tiertext.png"),URL.revokeObjectURL(b)}