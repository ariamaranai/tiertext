onbeforeunload=e=>e.preventDefault(),d.onclick=e=>{let o=new OffscreenCanvas(2160,4096),b=60,w=990,a=2,i=7,n=d;(e=o.getContext("2d")).fillRect(0,0,2160,4096),e.fillStyle="#ddd",e.font="600 32px consolas,menlo,sans-serif",e.textBaseline="middle";while(i){let t=(n=n.nextSibling).textContent.slice(2).trim(--i);if(t&&=[...(new Intl.Segmenter("en")).segment(t)].map(e=>e.segment)){let m=0,l=78,h=78,s=0;while(s<t.length){let c=t[s];if(c!="\n"){let f=e.measureText(c).width,r=f+l;m=/\s/.test(c)?(h=l=r<2160?r:(b+=48,78),0):(l=r<2160?(e.fillText(c,l,b),r):((b+=48,w=2160,h>78)?(e.drawImage(o,h,b-64,m,32,78,b-16,m,32),e.fillStyle="#000",e.fillRect(h,b-68,2078,36),e.fillStyle="#ddd",e.fillText(c,l=m+(h=78),b),l+f):78),m+f)}else b+=48,m=0,h=l=78;++s}e.save(w=Math.max(w,l)),e.fillStyle=["#136","#068","#183","#a90","#b70","#a10","#80b"][i],e.fillRect(2,a,64,m=b-a+48),e.fillStyle="#ddd",e.font="600 40px serif",e.textAlign="center",e.fillText(["𝐅","𝐄","𝐃","𝐂","𝐁","𝐀","𝐒"][i],34,a+m/2),e.restore(b=(a=b+50)+60)}}createImageBitmap(o,0,0,w+=100,a).then(e=>((b=new OffscreenCanvas(w,a)).getContext("bitmaprenderer").transferFromImageBitmap(e),b.convertToBlob())).then(e=>(b=(o=document.createElement("a")).href=URL.createObjectURL(e),o.click(o.download="tiertext.png"),URL.revokeObjectURL(b)))}